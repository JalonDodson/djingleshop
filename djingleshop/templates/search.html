{% include 'base.html' %}
{% load static %}
<div class="container">
    <div id="cart">
        <span class="cart-header">
            <span style="margin-left: 10%; margin-top: 2%;">Your Cart</span>
            <button class="menu-close" style="margin-right: 5%;" onclick="hideShowCart()">x</button>
        </span>
        <div id="cart-items">
            
        </div>
    </div>
    <header class="h-container">
        <div class="header-text-wrapper">
            <h2 class="intro-text">Welcome to DjingleShop!</h2>
            <p class="descriptor-text"><i>Where every day's a holiday!</i></p>
        </div>
    </header>
    <div class="featured-scroll">
        <h3 class="scroll-header" style="display: inline;">
            Matches for '{{query_string}}'
        </h3>
        <div class="sort-dd">
            <button class="dropdown-btn">
                Sort Results
            </button>
            <div class="dropdown-items">
                <button class="sort-items" onclick="sortResults('name', '{{query_string}}')">Sort by Name</button><br>
                <button class="sort-items" onclick="sortResults('price', '{{query_string}}')">Sort by Price</button>
            </div>
        </div>
        <div class="outer-scroll-wrapper">
            <div class="inner-scroll-wrapper">
                {% for product in product_list %}
                    <div class="scroll-card">
                        <div class="scroll-card-inner">
                            <h4 class="product-name">
                                {{ product.name }}
                            </h4>
                            <img class="scroll-card-image" src="{{product.product_image.url}}"/>
                            <p class="product-description">{{product.description}}</p>
                            <div class="add-cart" id="cart-handler-{{product.id}}">
                                <p class="product-price">${{product.price}}</p>
                                <button class="add-item-cart" id="add-item-{{product.id}}" onclick="addToCart('{{product.id}}', `{% url 'add_cart_item' %}`)">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<script src="{% static 'js/main.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>